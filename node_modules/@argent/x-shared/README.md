# @argent/x-shared

This package provides shared code

## Installation

To install the package, use the following command:

```sh
pnpm add @argent/x-shared
```

## Testing

To run the tests, use the following command:

```sh
pnpm test
```

To run tests in watch mode, use:

```sh
pnpm test:watch
```

## Development

To start development, clone the repository and install the dependencies:

```sh
git clone https://github.com/argentlabs/x-shared.git
cd x-shared
pnpm install
```

## Development as a local dependency

The recommended way to develop as a local dependency is to use the `file:` protocol, see [What's the difference between pnpm link and using the file: protocol?](https://pnpm.io/cli/link#whats-the-difference-between-pnpm-link-and-using-the-file-protocol)

```json
/** in the project package.json, use a relative path to the local x-shared folder */
"@argent/x-shared": "file:../../../x-shared",
```

The workflow is then;

- Make changes in `x-shared` package
- Run `pnpm build` in the `x-shared` package
- Run `pnpm install` in the project that references the local `x-shared` folder
- Repeat every time you want to install the latest changes

Once you are happy with the changes

- Create and merge a PR into `develop` branch
- Wait for package to publish to npm with [updated `next` version](https://www.npmjs.com/package/@argent/x-shared?activeTab=versions)
- Update the version in the relevant projects

## Versioning

The package version will be inferred automatically from each commit message using [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/#summary) - see the summary there for how to achieve patch, minor and major version changes.

## Hotfix workflow

- Checkout the tag of the version you want to hotfix
- Create a new branch using the format `hotfix/vx.y.z` and increment the patch version
- Add your changes
- Commit your changes using the format `fix: <commit message>`
