class n {
  constructor(t, e) {
    this.httpService = t, this.baseUrl = e, this.offsetInS = 0, this.syncIntervalInMs = 60 * 1e3, this.initialSync = this.syncWithServer(), setInterval(() => void this.syncWithServer(), this.syncIntervalInMs);
  }
  async now() {
    return await this.initialSync, new Date(Date.now() + this.offsetInS * 1e3);
  }
  async syncWithServer() {
    if (typeof window > "u")
      return;
    const { time: t } = await this.httpService.get(`${this.baseUrl}/time`), e = Math.floor(Date.now() / 1e3), i = t - e;
    this.offsetInS = i;
  }
}
export {
  n as DateService
};
