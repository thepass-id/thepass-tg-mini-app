"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("starknet"),c=require("../chains/starknet/address.cjs"),s={Transfer:t.hash.getSelectorFromName("Transfer"),Approval:t.hash.getSelectorFromName("Approval")},i=(l,r,a)=>{for(const o of l){const{events:f,internal_calls:n}=o;for(const e of f)for(const d of e.keys)d===s.Approval&&r.push({tokenAddress:c.addressSchema.parse(o.contract_address),owner:e.data[0],spender:e.data[1],value:t.uint256.uint256ToBN({low:e.data[2],high:e.data[3]}).toString()}),d===s.Transfer&&a.push({tokenAddress:c.addressSchema.parse(o.contract_address),from:e.data[0],to:e.data[1],value:t.uint256.uint256ToBN({low:e.data[2],high:e.data[3]}).toString()});n&&i(n,r,a)}return{approvals:r,transfers:a}};exports.EventsBySelector=s;exports.findTransfersAndApprovals=i;
