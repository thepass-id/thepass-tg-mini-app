"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("zod"),f=require("../fees/schema.cjs"),l=require("../warning/schema.cjs"),n=require("../../../chains/starknet/address.cjs"),k=t.z.object({name:t.z.string(),url:t.z.string(),position:t.z.number()}),o=t.z.object({address:t.z.string(),name:t.z.string(),symbol:t.z.string().optional(),decimals:t.z.number().optional(),unknown:t.z.boolean(),iconUrl:t.z.string().optional(),type:t.z.string()}),i=t.z.discriminatedUnion("type",[t.z.object({type:t.z.literal("amount"),label:t.z.string(),token:o,amount:t.z.string(),usd:t.z.string(),editable:t.z.boolean()}),t.z.object({type:t.z.literal("address"),label:t.z.string(),address:t.z.string(),addressName:t.z.string().optional(),verified:t.z.boolean().optional()}),t.z.object({type:t.z.literal("timestamp"),label:t.z.string(),value:t.z.string()}),t.z.object({type:t.z.literal("token_address"),label:t.z.string(),token:o}),t.z.object({type:t.z.literal("calldata"),label:t.z.string(),entrypoint:t.z.string(),calldata:t.z.array(t.z.string())}),t.z.object({type:t.z.literal("text"),label:t.z.string(),text:t.z.string()}),t.z.object({type:t.z.literal("nft"),label:t.z.string(),token:o})]),z=t.z.object({name:t.z.string(),properties:t.z.array(i),defaultProperties:t.z.array(i).optional()}),m=t.z.union([t.z.literal("verified"),t.z.literal("neutral"),t.z.literal("partial"),t.z.literal("warn")]),p=t.z.object({unknown_token:t.z.unknown().optional(),date_of_addition:t.z.string().optional(),contract_address:n.addressSchema.optional(),reason:t.z.string().optional(),value:t.z.string().or(t.z.number()).optional()}),r=t.z.object({reason:l.reasonsSchema,details:p.optional(),severity:l.severitySchema}),d=t.z.object({assessment:m,warnings:t.z.array(r).optional(),assessmentReasons:t.z.array(t.z.string()).optional(),assessmentDetails:t.z.object({contract_address:t.z.string()}).optional(),action:z}),g=t.z.object({name:t.z.string(),description:t.z.string(),logoUrl:t.z.string(),iconUrl:t.z.string(),argentVerified:t.z.boolean(),links:t.z.array(k)}),u=t.z.object({assessment:t.z.union([t.z.literal("verified"),t.z.literal("neutral"),t.z.literal("partial"),t.z.literal("warn")]),warnings:t.z.array(r).optional(),assessmentDetails:t.z.object({contract_address:t.z.string()}).optional(),targetedDapp:g.optional(),reviews:t.z.array(d)}).optional(),b=t.z.object({banner:t.z.string().nullable().optional(),preview:t.z.string().nullable().optional(),full:t.z.string().nullable().optional(),original:t.z.string().nullable().optional()}),v=t.z.object({twitter:t.z.string().optional(),external:t.z.string().optional(),discord:t.z.string().optional()}),s=t.z.object({address:n.addressSchemaArgentBackend,decimals:t.z.number().optional(),symbol:t.z.string().optional(),name:t.z.string(),description:t.z.string().optional(),type:t.z.string().optional(),usdValue:t.z.string().optional(),iconUrl:t.z.string().optional(),unknown:t.z.boolean().optional(),imageUrls:b.optional(),links:v.optional()}),w=t.z.object({tokenAddress:n.addressSchemaArgentBackend,owner:n.addressSchemaArgentBackend,spender:n.addressSchemaArgentBackend,value:t.z.string().optional(),approvalForAll:t.z.boolean(),details:s.optional()}),A=t.z.object({tokenAddress:n.addressSchemaArgentBackend,from:n.addressSchemaArgentBackend,to:n.addressSchemaArgentBackend,tokenId:t.z.string().optional(),value:t.z.string().optional(),details:s.optional()}),a=t.z.union([t.z.string(),t.z.number(),t.z.bigint()]).transform(e=>parseInt(e.toString(),10)),c={overallFee:a,gasPrice:a,gasUsage:a,dataGasPrice:a.optional(),dataGasConsumed:a.optional()},S=t.z.object({...c,unit:t.z.string().transform(e=>e.toUpperCase()).pipe(t.z.literal("WEI")),maxFee:a}).or(t.z.object({...c,unit:t.z.string().transform(e=>e.toUpperCase()).pipe(t.z.literal("FRI")),maxAmount:a,maxPricePerUnit:a})),E=t.z.object({type:t.z.string(),label:t.z.string(),tokenId:t.z.string().optional(),value:t.z.string().optional(),usdValue:t.z.string().optional(),token:s,sent:t.z.boolean().optional(),tokenIdDetails:t.z.object({name:t.z.string().optional(),description:t.z.string().optional(),imageUrls:b.optional()}).optional()}),U=t.z.object({approvals:t.z.array(w).optional(),transfers:t.z.array(A).optional(),calculatedNonce:t.z.string().optional(),feeEstimation:S,summary:t.z.array(E).optional()}),D=t.z.object({label:t.z.string().optional(),code:t.z.number().optional(),message:t.z.string().optional(),error:t.z.string().optional()}),h=t.z.object({reviewOfTransaction:u,simulation:U,simulationError:t.z.undefined()}),y=t.z.object({reviewOfTransaction:u,simulation:t.z.undefined(),simulationError:D}),j=h.or(y),B=t.z.object({transactions:t.z.array(j).optional()}),P=t.z.object({transactions:t.z.array(j).optional(),enrichedFeeEstimation:f.estimatedFeesSchema.optional(),isBackendDown:t.z.boolean().default(!1).optional()});function T(e){return h.safeParse(e).success}function F(e){return y.safeParse(e).success}exports.actionSchema=z;exports.assessmentSchema=m;exports.enrichedSimulateAndReviewSchema=P;exports.feeEstimationSchema=S;exports.isNotTransactionSimulationError=T;exports.isTransactionSimulationError=F;exports.propertySchema=i;exports.reviewSchema=d;exports.simulateAndReviewSchema=B;exports.targetedDappSchema=g;exports.warningDetailsSchema=p;exports.warningSchema=r;
