import { getMessageFromSimulationError as l } from "./getMessageFromSimulationError.js";
import { isTransactionSimulationError as c } from "./schema.js";
import { getPrettyRpcError as g } from "../../../transactions/getPrettyRcpError.js";
function M(e) {
  var a;
  if (!e)
    return;
  const o = (a = e.transactions) == null ? void 0 : a.flatMap((n) => c(n) ? n.simulationError : !1), r = o == null ? void 0 : o[o.length - 1];
  if (!r)
    return;
  const i = l(r), s = r.message || r.error, t = g(s), m = t || r.label;
  return {
    message: t ? s : i,
    label: m
  };
}
export {
  M as getErrorMessageAndLabelFromSimulation
};
