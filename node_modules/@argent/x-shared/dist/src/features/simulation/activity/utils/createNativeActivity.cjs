"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("lodash-es"),p=require("../normalize.cjs"),y=require("../schema.cjs");function u(t){var n,e;const c=(e=(n=t.transactions)==null?void 0:n[0].reviewOfTransaction)==null?void 0:e.reviews;return c?c.map(a=>a.action):void 0}function S({simulateAndReview:t,...c}){var n,e,a;const r={type:y.NativeActivityTypeNative,...c};if(t&&!f.isEmpty(t.transactions)){const i=(n=t.transactions)==null?void 0:n[t.transactions.length-1],o=(e=i==null?void 0:i.simulation)==null?void 0:e.summary;if(o){const v=p.normalizeActivitySummaryCollection(o);r.transferSummary=v}const s=(a=i==null?void 0:i.reviewOfTransaction)==null?void 0:a.targetedDapp;s&&(r.dapp=s);const m=u(t);m&&(r.actions=m)}return y.nativeActivitySchema.parse(r)}exports.createNativeActivity=S;exports.normalizeActions=u;
