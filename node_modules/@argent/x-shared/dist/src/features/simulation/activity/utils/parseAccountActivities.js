import { isMulticallWithDeploymentActivity as p } from "./isMulticallWithDeploymentActivity.js";
import { includesAddress as t } from "../../../../chains/starknet/address.js";
import { ensureArray as c } from "../../../../utils/arrays.js";
function f({ activities: n, accountAddressesOnNetwork: d }) {
  const o = {};
  return n.forEach((e) => {
    const s = e.wallet, r = e.type === "deploy" ? e.type : e.details.type === "security" ? e.details.action : void 0;
    e.group === "security" && t(s, d) && r && (o[r] = o[r] || [], t(s, o[r]) || (o[r] = c(o[r]).concat(s))), p(e) && (o.deploy = c(o.deploy).concat(s));
  }), o;
}
export {
  f as parseAccountActivities
};
